<html>
    <head>
        <title>Hello</title>
    </head>
    <body>
        <div id = 'root'>
        </div>
           
            <script src="C:\Users\SHASHI NIRANJAN\jan-2020-mern\react\js\react.development.js"></script>
            <script src="C:\Users\SHASHI NIRANJAN\jan-2020-mern\react\js\react-dom.development.js"></script>
            <script src="C:\Users\SHASHI NIRANJAN\jan-2020-mern\react\js\babel.js"></script>

            <script type="text/babel">
                    
            const rootHandle = document.getElementById('root')

            class UsersList extends React.Component {
            constructor() {
                super() 
                this.state = {
                    users: [
                        { id: 1, name : 'user1', email: 'user1@gmail.com'},
                        { id: 2, name: 'user2', email: 'user2@gmail.com'}, 
                        { id: 3, name: 'user3', email: 'user3@gmail.com'}, 
                        { id: 4, name: 'user4', email: 'user4@gmail.com'} 
                   ]                  
                }
            }
            
           

            handleEmailChange = (e) => {
                const email = e.target.value
                this.setState({email})
            }

            handleRemove = (e) => {
                e.preventDefault() 
                
                    this.setState (function(prevState){
                        return {
                            users :prevState.users.filter(user=>user.email !=this.state.email)
                            
                        }
                    })
                
             
            }
           
            render() {
                return (
                    <div> 
                        <h2> Listing Tasks - { this.state.users.length } </h2> 
                        <table border="1">
                            <thead>
                                <tr>
                                    <th> # </th> 
                                    <th> name </th> 
                                    <th>email </th> 
                                    
                                </tr> 
                            </thead> 
                            <tbody>
                                {
                                    this.state.users.map((user) => {
                                        return (
                                            <tr key={user.id}>
                                                <td> {user.id} </td> 
                                                <td> {user.name } </td> 
                                                <td> {user.email } </td> 
                                                
                                            </tr> 
                                        )
                                    })
                                }
                            </tbody> 
                        </table> 

                        <h2> Form </h2>
                        <form onSubmit= {this.handleRemove}>
                            
                            <input 
                                type='text'                                
                                value={this.state.email}
                                onChange={this.handleEmailChange}
                            />
                            <input type='submit' value='remove'/>
                                </form>
                    </div> 
                )
            }
            }

        ReactDOM.render(<UsersList />, rootHandle)
            
          </script>
    </body>
</html>





